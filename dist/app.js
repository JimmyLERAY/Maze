!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={cellSize:18,tailSize:200,endColor:"rgba(046, 204, 113, 0.25)",backgroundColor:"#ecf0f1",wallsColor:"#ccc",wallsWidth:2,playerSize:5,playersColors:["rgba(231, 076, 060, 1.0)","rgba(052, 152, 219, 1.0)","rgba(046, 204, 113, 1.0)","rgba(241, 196, 015, 1.0)"],playersControls:[[38,39,40,37],[90,68,83,81]]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=function(){function t(t){var e=this;this.clear=function(){e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height)},this.font=function(t,n,i,r,a,o){void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=12),void 0===o&&(o="Arial"),e.ctx.font=a.toString()+"px "+o,e.ctx.fillStyle=n,e.ctx.fillText(t,i,r)},this.circle=function(t,n,i,r,a){void 0===n&&(n=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=0),e.ctx.fillStyle=t,e.ctx.lineWidth=n,e.ctx.beginPath(),e.ctx.arc(i,r,a,0,2*Math.PI),e.ctx.fill()},this.rectangle=function(t,n,i,r,a){void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=e.canvas.width),void 0===a&&(a=e.canvas.height),e.ctx.fillStyle=t,e.ctx.fillRect(n,i,r,a)},this.line=function(t,n,i,r,a,o){void 0===n&&(n=1),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=0),e.ctx.strokeStyle=t,e.ctx.lineWidth=n,e.ctx.beginPath(),e.ctx.moveTo(i,r),e.ctx.lineTo(a,o),e.ctx.stroke()},this.id=t;var n=document.createElement("canvas");n.setAttribute("id",this.id),document.getElementById("game").appendChild(n),this.canvas=document.getElementById(t),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(window.innerWidth/i.default.cellSize)*i.default.cellSize,this.canvas.height=Math.floor(window.innerHeight/i.default.cellSize)*i.default.cellSize}return t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),new(n(3).default)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(8),a=n(9),o=function(){function t(){var t=this;this.chrono=new i.default(this),this.players=[],this.isFinished=!1,this.isStarted=!1,this.gameMod="versus",this.init=function(){t.isFinished=!1;for(var e=document.getElementById("game");e.firstChild;)e.removeChild(e.firstChild);t.labyrinth=new a.default,t.chrono.init(),0==t.players.length&&t.addPlayer(),t.players.map(function(e){e.labyrinth=t.labyrinth,e.hasFinished=!1,e.init()})},this.loop=function(){t.players.map(function(t){return t.loop()}),"versus"==t.gameMod&&t.players.filter(function(t){return t.hasFinished}).length>0?(t.stop(),t.chrono.stop()):"coop"==t.gameMod&&0==t.players.filter(function(t){return!t.hasFinished}).length?(t.stop(),t.chrono.stop()):t.start()},this.start=function(){t.isStarted=!0,t.loopID=window.requestAnimationFrame(t.loop)},this.stop=function(){new Audio(Synth.generate(0,"C#",4,1)).play(),t.isFinished=!0,t.isStarted=!1,t.loopID&&window.cancelAnimationFrame(t.loopID)},this.addPlayer=function(){t.players.push(new r.default(t.labyrinth,t.players.length,t.players.length))},window.addEventListener("resize",this.init),this.init(),document.addEventListener("keyup",function(e){13==e.keyCode&&t.players.length<4&&t.addPlayer()})}return t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){var e=this;this.diffTime=0,this.stopped=!1,this.init=function(){document.getElementById("versus").innerHTML="Versus",document.getElementById("message").innerHTML=" / ",document.getElementById("coop").innerHTML="Coop",document.getElementById("seconds").innerHTML="",document.getElementById("milliseconds").innerHTML=""},this.start=function(){e.stopped=!1,e.startTime=new Date,e.actualize()},this.stop=function(){e.stopped=!0},this.actualize=function(){var t=e.diffTime;e.diffTime=Math.abs((new Date).getTime()-e.startTime.getTime()),~~(e.diffTime/1e3)!=~~(t/1e3)&&new Audio(Synth.generate(0,"C#",1,1)).play(),e.stopped||requestAnimationFrame(e.actualize),e.display()},this.display=function(){document.getElementById("versus").innerHTML="",document.getElementById("message").innerHTML="",document.getElementById("coop").innerHTML="",document.getElementById("seconds").innerHTML=((e.diffTime-e.diffTime%1e3)/1e3).toString()+"s ",document.getElementById("milliseconds").innerHTML=("00"+(e.diffTime%1e3).toString()+"0").slice(-4,-1)},this.game=t,this.init(),document.getElementById("versus").addEventListener("click",function(t){t.stopPropagation(),e.game.gameMod="versus",e.start(),e.game.start()}),document.getElementById("coop").addEventListener("click",function(t){t.stopPropagation(),e.game.gameMod="coop",e.start(),e.game.start()}),document.getElementById("chrono").addEventListener("click",function(t){e.game.isStarted||e.game.init()})}return t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6);n.d(e,"h",function(){return i.a});var r=n(7);n.d(e,"app",function(){return r.a})},function(t,e,n){"use strict";function i(t,e){var n,i=[];for(r=arguments.length;r-- >2;)a.push(arguments[r]);for(;a.length;)if(Array.isArray(n=a.pop()))for(r=n.length;r--;)a.push(n[r]);else null!=n&&!0!==n&&!1!==n&&("number"==typeof n&&(n+=""),i.push(n));return"string"==typeof t?{tag:t,data:e||{},children:i}:t(e,i)}e.a=i;var r,a=[]},function(t,e,n){"use strict";function i(t){function e(t,n,i){Object.keys(n||[]).map(function(r){var l=n[r],s=i?i+"."+r:r;"function"==typeof l?t[r]=function(t){o("action",{name:s,data:t});var e=o("resolve",l(v,w,t));return"function"==typeof e?e(a):a(e)}:e(t[r]||(t[r]={}),l,s)})}function n(t){for(p=h(z,p,g,g=o("render",m)(v,w),y=!y);t=r.pop();)t()}function i(){m&&!y&&requestAnimationFrame(n,y=!y)}function a(t){return"function"==typeof t?a(t(v)):(t&&(t=o("update",l(v,t)))&&i(v=t),v)}function o(t,e){return(b[t]||[]).map(function(t){var n=t(v,w,e);null!=n&&(e=n)}),e}function l(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)n[i]=e[i];return n}function s(t){if(t&&(t=t.data))return t.key}function d(t,e){if("string"==typeof t)var n=document.createTextNode(t);else{var n=(e=e||"svg"===t.tag)?document.createElementNS("http://www.w3.org/2000/svg",t.tag):document.createElement(t.tag);t.data&&t.data.oncreate&&r.push(function(){t.data.oncreate(n)});for(var i in t.data)c(n,i,t.data[i]);for(var i=0;i<t.children.length;)n.appendChild(d(t.children[i++],e))}return n}function c(t,e,n,i){if("key"===e);else if("style"===e)for(var r in l(i,n=n||{}))t.style[r]=n[r]||"";else{try{t[e]=n}catch(t){}"function"!=typeof n&&(n?t.setAttribute(e,n):t.removeAttribute(e))}}function u(t,e,n){for(var i in l(e,n)){var a=n[i],o="value"===i||"checked"===i?t[i]:e[i];a!==o&&c(t,i,a,o)}n&&n.onupdate&&r.push(function(){n.onupdate(t,e)})}function f(t,e,n){n&&n.onremove?n.onremove(e):t.removeChild(e)}function h(t,e,n,i,r,a){if(null==n)e=t.insertBefore(d(i,r),e);else if(null!=i.tag&&i.tag===n.tag){u(e,n.data,i.data),r=r||"svg"===i.tag;for(var o=i.children.length,l=n.children.length,c={},v=[],p={},g=0;g<l;g++){var y=v[g]=e.childNodes[g],m=n.children[g],w=s(m);null!=w&&(c[w]=[y,m])}for(var g=0,b=0;b<o;){var y=v[g],m=n.children[g],S=i.children[b],w=s(m);if(p[w])g++;else{var z=s(S),x=c[z]||[];null==z?(null==w&&(h(e,y,m,S,r),b++),g++):(w===z?(h(e,x[0],x[1],S,r),g++):x[0]?(e.insertBefore(x[0],y),h(e,x[0],x[1],S,r)):h(e,y,null,S,r),b++,p[z]=S)}}for(;g<l;){var m=n.children[g],w=s(m);null==w&&f(e,v[g],m.data),g++}for(var g in c){var x=c[g],M=x[1];p[M.data.key]||f(e,x[0],M.data)}}else e&&i!==e.nodeValue&&("string"==typeof i&&"string"==typeof n?e.nodeValue=i:(e=t.insertBefore(d(i,r),a=e),f(t,a,n.data)));return e}var v,p,g,y,m=t.view,w={},b={},S=t.mixins||[],z=t.root||document.body;return S.concat(t).map(function(t){t="function"==typeof t?t(o):t,Object.keys(t.events||[]).map(function(e){b[e]=(b[e]||[]).concat(t.events[e])}),v=l(v,t.state),e(w,t.actions)}),i((g=o("load",p=z.children[0]))===p&&(g=p=null)),o}e.a=i;var r=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(1),a=n(5),o=function(){function t(t,e,n){void 0===n&&(n=0);var o=this;this.size=i.default.playerSize,this.moves=[!1,!1,!1,!1],this.history=[],this.hasFinished=!1,this.init=function(){o.canvas=new r.default(o.id.toString()),o.x=o.labyrinth.cellSize*(.5+o.randInt(0,o.labyrinth.width-1)),o.y=o.labyrinth.cellSize*(.5+o.randInt(0,o.labyrinth.height-1))},this.loop=function(){o.move(),o.draw()},this.controls=function(){document.addEventListener("keydown",function(t){i.default.playersControls[o.config].map(function(e,n){t.keyCode==e&&(o.moves[n]=!0)})}),document.addEventListener("keyup",function(t){i.default.playersControls[o.config].map(function(e,n){t.keyCode==e&&(o.moves[n]=!1)})})},this.draw=function(){o.canvas.clear(),o.canvas.circle(i.default.playersColors[o.id],1,o.x,o.y,o.size),o.canvas.circle(i.default.backgroundColor,1,o.x,o.y,o.size-1),o.canvas.circle(i.default.playersColors[o.id].substr(0,20)+"0.5)",1,o.x,o.y,o.size-1)},this.move=function(){var t=o.getActualCell();t.isEnd?o.hasFinished=!0:(o.moves[0]&&((o.y-o.size-i.default.wallsWidth/2)%o.labyrinth.cellSize==0?t.walls[0]||o.y--:o.y--),o.moves[1]&&((o.x+o.size)%o.labyrinth.cellSize==o.labyrinth.cellSize-1?t.walls[1]||o.x++:o.x++),o.moves[2]&&((o.y+o.size)%o.labyrinth.cellSize==o.labyrinth.cellSize-1?t.walls[2]||o.y++:o.y++),o.moves[3]&&((o.x-o.size-i.default.wallsWidth/2)%o.labyrinth.cellSize==0?t.walls[3]||o.x--:o.x--))},this.getActualCell=function(){return o.labyrinth.grid[Math.floor(o.y/o.labyrinth.cellSize)][Math.floor(o.x/o.labyrinth.cellSize)]},this.randInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},this.id=e,this.labyrinth=t,this.config=n,this.name="Player "+(e+1).toString(),this.menu=document.getElementById("player_"+(this.id+1).toString()),this.menu.style.backgroundColor=i.default.playersColors[this.id].substr(0,20)+"0.25)",a.app({state:{name:this.name},view:function(t){return a.h("div",{},t.name)}}),this.controls(),this.init()}return t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(1),a=n(10),o=function(){function t(){var t=this;for(this.canvas=new r.default("labyrinth"),this.width=Math.floor(window.innerWidth/i.default.cellSize),this.height=Math.floor(window.innerHeight/i.default.cellSize),this.cellSize=i.default.cellSize,this.grid=[],this.createGrid=function(){for(var e=0;e<t.height;e++){t.grid.push([]);for(var n=0;n<t.width;n++)t.grid[e].push(new a.default(n+e*t.width))}},this.generateLabyrinth=function(){var e=t.randInt(0,t.height-1),n=t.randInt(0,t.width-1),i=t.randInt(0,3);if(!(0==e&&0==i||0==n&&3==i||e==t.height-1&&2==i||n==t.width-1&&1==i)&&t.grid[e][n].walls[i]){var r=void 0;switch(i){case 0:r=t.grid[0==e?t.height-1:e-1][n];break;case 1:r=t.grid[e][n==t.width-1?0:n+1];break;case 2:r=t.grid[e==t.height-1?0:e+1][n];break;case 3:r=t.grid[e][0==n?t.width-1:n-1]}t.grid[e][n].id!=r.id&&(t.grid[e][n].walls[i]=!1,r.walls[(i+2)%4]=!1,t.updateGroupId(t.grid[e][n].id,r.id))}},this.selectEnd=function(){t.grid[Math.floor(t.height/2)][Math.floor(t.width/2)].isEnd=!0},this.updateGroupId=function(e,n){t.grid.map(function(t,i){t.map(function(t,i){t.id==n&&(t.id=e)})})},this.isGenerated=function(){for(var e=0;e<t.height;e++)for(var n=0;n<t.width;n++)if(t.grid[e][n].id!=t.grid[0][0].id)return!1;return!0},this.drawLabyrinth=function(){t.grid.map(function(e,n){e.map(function(e,r){e.isEnd&&t.canvas.rectangle(i.default.endColor,t.cellSize*r,t.cellSize*n,t.cellSize,t.cellSize),e.walls.map(function(e,a){e&&t.canvas.line(i.default.wallsColor,i.default.wallsWidth,t.cellSize*(r+(1==a?1:0)),t.cellSize*(n+(2==a?1:0)),t.cellSize*(r+(3!=a?1:0)),t.cellSize*(n+(0!=a?1:0)))})})})},this.randInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},this.createGrid();!this.isGenerated();)this.generateLabyrinth();this.selectEnd(),this.drawLabyrinth()}return t}();e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){var e=this;this.isEnd=!1,this.walls=[!0,!0,!0,!0],this.countWalls=function(){return e.walls.filter(function(t){return t}).length},this.id=t}return t}();e.default=i}]);